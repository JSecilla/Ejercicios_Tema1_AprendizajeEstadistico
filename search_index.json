[["index.html", "Ejercicios tema 1 aprendizaje estadístico Chapter 1 Ejercicio 1 1.1 Apartado a 1.2 Apartado b 1.3 Apartado c 1.4 Apartado d", " Ejercicios tema 1 aprendizaje estadístico Jesús Secilla Martínez 2023-09-20 Chapter 1 Ejercicio 1 Para cada uno de los cuatro escenarios siguientes, explicar si se trata de un problema de regresión, de clasificación supervisada, o de clasificación no supervisada. Determinar el número de observaciones y el número de variables disponibles: 1.1 Apartado a Recopilamos un conjunto de datos sobre las 35 empresas que forman el IBEX35. Para cada una de ellas, registramos ganancias, número de empleados, sector industrial y salario del CEO. Nos interesa comprender qué factores afectan al salario del CEO. Tipo de problema : Regresión Número de observaciones: 35 Número de variables: 4 1.2 Apartado b Somos consultores estadísticos en una empresa de compra-venta de viviendas. Se nos pide determinar un mapa con los 21 distritos de Madrid donde las viviendas sean similares. Para ello, recopilamos datos sobre las últimas 1000 viviendas vendidas en cada uno de los distritos de Madrid incluyendo el precio, el tamaño, el número de habitaciones, el año de construcción, la altura de la vivienda, el estado de la vivienda y si dispone de garaje o no. Tipo de problema : Clasificación no supervisada Número de observaciones: 21000 Número de variables: 7 1.3 Apartado c Somos consultores estadísticos de una empresa y se nos pide determinar si un nuevo producto va a ser un éxito o un fracaso y, en base a ello, tomar la decisión de lanzar o no el producto al mercado. Para ello, recopilamos datos de 20 productos similares que se lanzaron anteriormente al mercado. Para cada producto, registramos si fue un éxito o un fracaso, el precio cobrado por el producto, el presupuesto de marketing, el precio de la competencia, y otras diez variables relacionadas con las anteriores. Tipo de problema : Clasificación supervisada Número de observaciones: 20 Número de variables: 14 1.4 Apartado d Trabajamos en una compañía financiera y para mejorar las inversiones nos interesa predecir la tasa de cambio entre el dolar y el euro en relación con las variaciones de precios en los mercados bursátiles más importantes. Para ello, recopilamos datos semanales para los años 2020, 2021 y 2022, incluyendo la tasa de cambio semanal entre el dolar y el euro, y los cambios en las bolsas de Nueva York, Londres, Frankfurt y Tokio. Tipo de problema : Regresión Número de observaciones: 156 Número de variables: 5 "],["ejercicio-2.html", "Chapter 2 Ejercicio 2 2.1 Apartado a 2.2 Apartado b 2.3 Apartado c", " Chapter 2 Ejercicio 2 2.1 Apartado a Describir tres aplicaciones reales en las que la regresión podría ser útil. Para ello, describir claramente el objetivo, la población de interés, la variable respuesta utilizada, y los predictores. 2.2 Apartado b Describir tres aplicaciones reales en las que la clasificación supervisada podría ser útil. Para ello, describir claramente el objetivo, la población de interés, la variable respuesta utilizada, y los predictores 2.3 Apartado c Describir tres aplicaciones reales en las que la clasificación no supervisada podría ser útil. Para ello, describir claramente el objetivo, la población de interés, y los predictores. "],["ejercicio-3.html", "Chapter 3 Ejercicio 3 3.1 Apartado a 3.2 Apartado b 3.3 Apartado c 3.4 Apartado d", " Chapter 3 Ejercicio 3 Para este ejercicio se utiliza el conjunto de datos de valores de la vivienda en suburbios de Boston de nombre Boston, que se puede encontrar en la librería ISLR2. El fichero contiene una serie de variables para 506 suburbios en Boston. Las variables son: crim : Tasa de criminalidad per cápita. zn: Proporción de terreno residencial dividido en zonas para lotes de más de 25000 pies cuadrados. indus: Proporción de acres comerciales no minoristas. chas: Variable ficticia de Charles River (=1 si el tramo limita con el río; 0 en caso contrario). nox: Concentración de óxidos de nitrógeno (partes por 10millones). rm: Número medio de habitaciones por vivienda. age: Proporción de unidades ocupadas por sus propietarios construidas antes de 1940 dis: Media ponderada de las distancias a cinco centros de empleo de Boston. rad: Índice de accesibilidad a carreteras radiales. tax: Tasa de impuesto a la propiedad de valor total por 10000$ ptratio: Proporción alumno-profesor por ciudad. lstat: Estatus más bajo de la población (porcentaje). medv: Valor mediano de las viviendas ocupadas por sus propietarios en 1000$ Nuestro objetivo es predecir la variable medv, es decir el precio mediano de la vivienda, con el resto de variables, que actuarán como predictores. 3.1 Apartado a Cargar la librería ISLR2 en memoria e importar el conjunto de datos Boston. Comprobar que la dimensión del data.frame correspondiente al conjunto de datos es 506×13, es decir, que disponemos de 506 suburbios y 13 variables. Además, ver las primeras filas del conjunto de datos con la función head. library(ISLR2) ## Warning: package &#39;ISLR2&#39; was built under R version 4.3.1 data(&quot;Boston&quot;) is(Boston) ## [1] &quot;data.frame&quot; &quot;list&quot; &quot;oldClass&quot; &quot;vector&quot; dim(Boston) ## [1] 506 13 head(Boston) ## crim zn indus chas nox rm age dis rad tax ## 1 0.00632 18 2.31 0 0.538 6.575 65.2 4.0900 1 296 ## 2 0.02731 0 7.07 0 0.469 6.421 78.9 4.9671 2 242 ## 3 0.02729 0 7.07 0 0.469 7.185 61.1 4.9671 2 242 ## 4 0.03237 0 2.18 0 0.458 6.998 45.8 6.0622 3 222 ## 5 0.06905 0 2.18 0 0.458 7.147 54.2 6.0622 3 222 ## 6 0.02985 0 2.18 0 0.458 6.430 58.7 6.0622 3 222 ## ptratio lstat medv ## 1 15.3 4.98 24.0 ## 2 17.8 9.14 21.6 ## 3 17.8 4.03 34.7 ## 4 18.7 2.94 33.4 ## 5 18.7 5.33 36.2 ## 6 18.7 5.21 28.7 3.2 Apartado b Utilizar la función de summary para producir un resumen numérico de la variable medv. Comentar las principales características de la variable mediante el resumen numérico obtenido. Por ejemplo, comparar la media muestral y la mediana muestral y los tres cuartiles de la variable medv para tener una idea de la forma de la distribución, comparar los valores máximo y mínimo de la variable con dichos cuartiles, etc. Además, obtener un histograma y un diagrama de caja (boxplot) de la variable medv y relacionar ambos gráficos con los comentarios anteriores. summary(Boston$medv) ## Min. 1st Qu. Median Mean 3rd Qu. Max. ## 5.00 17.02 21.20 22.53 25.00 50.00 par(mfrow=c(1,2)) hist(Boston$medv) library(ggplot2) par(mfrow=c(1,1)) histograma &lt;- ggplot(Boston, aes(x = medv)) + geom_histogram( fill = &quot;blue&quot;, color = &quot;red&quot;) + labs( title = &quot;Histograma de Datos&quot;, x = &quot;Valores&quot;, y = &quot;Frecuencia&quot; ) histograma ## `stat_bin()` using `bins = 30`. Pick better value with ## `binwidth`. boxplot(Boston$medv) 3.3 Apartado c Uno de los predictores chas es cualitativo (binario). Transformar el predictor en un factor mediante Boston\\(chas &lt;- as.factor(Boston\\)chas) para que R entienda que se trata de una variable cualitativa y no una cuantitativa. A continuación, obtener un resumen (summary) de dicho predictor e indicar que información proporciona en base a dicho resumen. Además, obtener un diagrama de caja de medv en función de chas. ¿Qué podemos concluir del gráfico? Boston$chas &lt;- as.factor(Boston$chas) summary(Boston$chas) ## 0 1 ## 471 35 color1 = &quot;blue&quot; color2 = &quot;red&quot; boxplot = ggplot(Boston,aes(x=chas,y=medv,fill=chas)) + theme_light(base_size=15) + geom_boxplot() + scale_fill_manual(values=c(color1, color2)) boxplot 3.4 Apartado d color_1 = &quot;blue&quot; ggplot(Boston,aes(x=crim,y=medv)) + theme_light(base_size=15) + geom_point(size=2,color=color_1) ggplot(Boston,aes(x=zn,y=medv)) + theme_light(base_size=15) + geom_point(size=2,color=color_1) ggplot(Boston,aes(x=indus,y=medv)) + theme_light(base_size=15) + geom_point(size=2,color=color_1) ggplot(Boston,aes(x=nox,y=medv)) + theme_light(base_size=15) + geom_point(size=2,color=color_1) ggplot(Boston,aes(x=rm,y=medv)) + theme_light(base_size=15) + geom_point(size=2,color=color_1) ggplot(Boston,aes(x=age,y=medv)) + theme_light(base_size=15) + geom_point(size=2,color=color_1) ggplot(Boston,aes(x=dis,y=medv)) + theme_light(base_size=15) + geom_point(size=2,color=color_1) ggplot(Boston,aes(x=rad,y=medv)) + theme_light(base_size=15) + geom_point(size=2,color=color_1) ggplot(Boston,aes(x=tax,y=medv)) + theme_light(base_size=15) + geom_point(size=2,color=color_1) ggplot(Boston,aes(x=ptratio,y=medv)) + theme_light(base_size=15) + geom_point(size=2,color=color_1) ggplot(Boston,aes(x=lstat,y=medv)) + theme_light(base_size=15) + geom_point(size=2,color=color_1) "],["ejercicio-4.html", "Chapter 4 Ejercicio 4 4.1 Enunciado y variables 4.2 Apartado a 4.3 Apartado b 4.4 Apartado c", " Chapter 4 Ejercicio 4 4.1 Enunciado y variables Para este ejercicio se utiliza el conjunto de datos de nombre College, que se puede encontrar en la librería ISLR2. El fichero contiene una serie de variables para \\(777\\) universidades de Estados Unidos. Las variables son: Private: Un indicador de si la universidad es pública o privada. Apps: Número de solicitudes recibidas. Accept: Número de solicitudes aceptadas. Enroll: Número de nuevos estudiantes matriculados. Top10perc: Nuevos estudiantes en el top \\(10\\%\\) de su clase de secundaria. Top25perc: Nuevos estudiantes en el top \\(25\\%\\) de su clase de secundaria. F.Undergrad: Número de estudiantes a tiempo completo. P.Undergrad: Número de estudiantes a tiempo parcial. Outstate: Matrícula de estudiantes de fuera del estado al que pertenece la universidad. Room.Board: Costes de alojamiento y comida. Books: Costes estimados en libros y otros materiales. Personal: Gasto estimado en personal de la universidad. PhD: Porcentaje de profesores con un doctorado. Terminal: Porcentaje de profesores con título de máster o doctorado. S.F.Ratio: Proporción de estudiantes / profesores. perc.alumni: Porcentaje de ex-alumnos de la universidad que donan dinero a la universidad. Expend: Gastos de instrucción por estudiante. Grad.Rate: Tasa de graduación. Se pide: 4.2 Apartado a Cargar la librería ISLR2 en memoria e importar el conjunto de datos College. Comprobar que la dimensión del data.frame correspondiente al conjunto de datos es \\(777\\times 18\\), es decir, que disponemos de \\(777\\) universidades y \\(18\\) variables. Además, ver las primeras filas del conjunto de datos con la función head. Empezamos cargando la libreria dónde vamos a encontrar nuestro conjunto de datos library(ISLR2) data(&quot;College&quot;) dim(College) ## [1] 777 18 head(College) ## Private Apps Accept Enroll ## Abilene Christian University Yes 1660 1232 721 ## Adelphi University Yes 2186 1924 512 ## Adrian College Yes 1428 1097 336 ## Agnes Scott College Yes 417 349 137 ## Alaska Pacific University Yes 193 146 55 ## Albertson College Yes 587 479 158 ## Top10perc Top25perc ## Abilene Christian University 23 52 ## Adelphi University 16 29 ## Adrian College 22 50 ## Agnes Scott College 60 89 ## Alaska Pacific University 16 44 ## Albertson College 38 62 ## F.Undergrad P.Undergrad ## Abilene Christian University 2885 537 ## Adelphi University 2683 1227 ## Adrian College 1036 99 ## Agnes Scott College 510 63 ## Alaska Pacific University 249 869 ## Albertson College 678 41 ## Outstate Room.Board Books ## Abilene Christian University 7440 3300 450 ## Adelphi University 12280 6450 750 ## Adrian College 11250 3750 400 ## Agnes Scott College 12960 5450 450 ## Alaska Pacific University 7560 4120 800 ## Albertson College 13500 3335 500 ## Personal PhD Terminal ## Abilene Christian University 2200 70 78 ## Adelphi University 1500 29 30 ## Adrian College 1165 53 66 ## Agnes Scott College 875 92 97 ## Alaska Pacific University 1500 76 72 ## Albertson College 675 67 73 ## S.F.Ratio perc.alumni Expend ## Abilene Christian University 18.1 12 7041 ## Adelphi University 12.2 16 10527 ## Adrian College 12.9 30 8735 ## Agnes Scott College 7.7 37 19016 ## Alaska Pacific University 11.9 2 10922 ## Albertson College 9.4 11 9727 ## Grad.Rate ## Abilene Christian University 60 ## Adelphi University 56 ## Adrian College 54 ## Agnes Scott College 59 ## Alaska Pacific University 15 ## Albertson College 55 Vemos que tanto la dimensión de los datos como las variables coinciden con lo comentado anteriormente. 4.3 Apartado b Obtener diagramas de caja de las \\(16\\) variables cuantitativas en función de la variable Private. ¿Qué podemos concluir de dichos gráficos respecto a la relación entre dichas variables y Private? Vamos a realizar los boxplot de todas las variables filtrando por la variable private, es decir vamos a ver las diferencias entre todas las variables en función del tipo de la universidad (Público, Privada) Volvemos a ver todas las variables, seguiremos ese orden. names(College) ## [1] &quot;Private&quot; &quot;Apps&quot; &quot;Accept&quot; ## [4] &quot;Enroll&quot; &quot;Top10perc&quot; &quot;Top25perc&quot; ## [7] &quot;F.Undergrad&quot; &quot;P.Undergrad&quot; &quot;Outstate&quot; ## [10] &quot;Room.Board&quot; &quot;Books&quot; &quot;Personal&quot; ## [13] &quot;PhD&quot; &quot;Terminal&quot; &quot;S.F.Ratio&quot; ## [16] &quot;perc.alumni&quot; &quot;Expend&quot; &quot;Grad.Rate&quot; 4.3.1 Apps color1 = &quot;blue&quot; color2 = &quot;red&quot; boxplot_Apps = ggplot(College,aes(x=Private,y=Apps,fill=Private)) + theme_light(base_size=15) + geom_boxplot() + scale_fill_manual(values=c(color1, color2)) boxplot_Apps Vemos que las solicitudes son mayores en las universidades públicas. 4.3.2 Accept boxplot_Accept = ggplot(College,aes(x=Private,y=Accept,fill=Private)) + theme_light(base_size=15) + geom_boxplot() + scale_fill_manual(values=c(color1, color2)) boxplot_Accept Vemos que en las universidades públicas se aceptan muchas más solicitudes que en las privadas, también hay que recordar que se reciben muchas más solicitudes. 4.3.3 Enroll boxplot_Enroll = ggplot(College,aes(x=Private,y=Enroll,fill=Private)) + theme_light(base_size=15) + geom_boxplot() + scale_fill_manual(values=c(color1, color2)) boxplot_Enroll Vemos que en las universidades públicas se matriculan muchos más alumnos, hay que recordar que estas por lo general tienen muchas más plazas que en las privadas 4.3.4 Top10perc boxplot_Top10perc = ggplot(College,aes(x=Private,y=Top10perc,fill=Private)) + theme_light(base_size=15) + geom_boxplot() + scale_fill_manual(values=c(color1, color2)) boxplot_Top10perc Vemos que los mejores estudiantes, por lo general, van a universidades privadas, posiblemente sea por las becas y los complicados procesos de admisión que tienen estas. 4.3.5 Top25perc boxplot_Top25perc = ggplot(College,aes(x=Private,y=Top25perc,fill=Private)) + theme_light(base_size=15) + geom_boxplot() + scale_fill_manual(values=c(color1, color2)) boxplot_Top25perc Vemos que si ampliamos al 25%, se iguala un poco más la cosa, pero siguen predominando las universidades privadas con los mejores alumnos. 4.3.6 F.Undergrad boxplot_F.Undergrad = ggplot(College,aes(x=Private,y=F.Undergrad,fill=Private)) + theme_light(base_size=15) + geom_boxplot() + scale_fill_manual(values=c(color1, color2)) boxplot_F.Undergrad Vemos que el número de estudiantes a tiempo completo es mayor en las universidades públicas, otra vez, hay que recordar que esto es debido a que en estas últimas, hay muchos más alumnos. 4.3.7 P.Undergrad boxplot_P.Undergrad = ggplot(College,aes(x=Private,y=P.Undergrad,fill=Private)) + theme_light(base_size=15) + geom_boxplot() + scale_fill_manual(values=c(color1, color2)) boxplot_P.Undergrad Vemos que los resultados son parecidos al gráfico anterior, nos obstante vemos que en las privadas hay muy pocos alumnos que están a tiempo parcial, todo esto depende en gran parte al número de estudiantes. 4.3.8 Outstate boxplot_Outstate = ggplot(College,aes(x=Private,y=Outstate,fill=Private)) + theme_light(base_size=15) + geom_boxplot() + scale_fill_manual(values=c(color1, color2)) boxplot_Outstate Vemos que en las universidades privadas hay más alumnos de estados extranjeros que en las públicas, esto nos puede dar a la idea de que si la gente se mueve de Estado con las consecuencias económicas que esto conlleva, suele ser para ir a una Universidad privada o con mayor prestigio 4.3.9 Room.Board boxplot_Room.Board = ggplot(College,aes(x=Private,y=Room.Board,fill=Private)) + theme_light(base_size=15) + geom_boxplot() + scale_fill_manual(values=c(color1, color2)) boxplot_Room.Board Vemos que los alojamientos y la comida por lo general son un poco más caros en las universidades privadas. 4.3.10 Books boxplot_Books = ggplot(College,aes(x=Private,y=Books,fill=Private)) + theme_light(base_size=15) + geom_boxplot() + scale_fill_manual(values=c(color1, color2)) boxplot_Books Vemos que el precio de los libros, es parecido en ambas universidades, con algún atípico en las universidades privadas. 4.3.11 Personal boxplot_Personal = ggplot(College,aes(x=Private,y=Personal,fill=Private)) + theme_light(base_size=15) + geom_boxplot() + scale_fill_manual(values=c(color1, color2)) boxplot_Personal Vemos que en las universidades públicas, el gasto en personal es mayor. 4.3.12 PhD boxplot_PhD = ggplot(College,aes(x=Private,y=PhD,fill=Private)) + theme_light(base_size=15) + geom_boxplot() + scale_fill_manual(values=c(color1, color2)) boxplot_PhD Vemos que el porcetaje de profesores que son doctores, es similiar en ambos tipos de Universidad, un poco más alto en universidades públicas y con menor dispersión. 4.3.13 Terminal boxplot_Terminal = ggplot(College,aes(x=Private,y=Terminal,fill=Private)) + theme_light(base_size=15) + geom_boxplot() + scale_fill_manual(values=c(color1, color2)) boxplot_Terminal Los resultados son similiares al anterior. 4.3.14 S.F.Ratio boxplot_S.F.Ratio = ggplot(College,aes(x=Private,y=S.F.Ratio,fill=Private)) + theme_light(base_size=15) + geom_boxplot() + scale_fill_manual(values=c(color1, color2)) boxplot_S.F.Ratio Vemos que el ratio alumnos/profesor es mayor en las públicas como se podía esperar. 4.3.15 perc.alumni boxplot_perc.alumni = ggplot(College,aes(x=Private,y=perc.alumni,fill=Private)) + theme_light(base_size=15) + geom_boxplot() + scale_fill_manual(values=c(color1, color2)) boxplot_perc.alumni Vemos que los exalumnos de las universidades privadas, donan más dinero a sus universidades. 4.3.16 Expend boxplot_Expend = ggplot(College,aes(x=Private,y=Expend,fill=Private)) + theme_light(base_size=15) + geom_boxplot() + scale_fill_manual(values=c(color1, color2)) boxplot_Expend Vemos que el costo por estudiante es un poco mayor y con mayor dispersión en las universidades privadas 4.3.17 Grad.Rate boxplot_Grad.Rate = ggplot(College,aes(x=Private,y=Grad.Rate,fill=Private)) + theme_light(base_size=15) + geom_boxplot() + scale_fill_manual(values=c(color1, color2)) boxplot_Grad.Rate Vemos que en las Universidades privadas por lo general la tasa de graduación es mayor. 4.4 Apartado c Crear una nueva variable cualitativa, llamada Top, agrupando los valores de la variable Top10perc. Para ello, dividir universidades en dos grupos en función de si la proporción de los estudiantes que provienen del \\(10\\%\\) superior de su escuela secundaria supera el \\(50\\%\\). Los dos valores de la variable Top deben ser Si, si pertenece a ese \\(10\\%\\) superior, y No, si no pertenece a dicho porcentaje. A continuación, obtener el número de universidades top y diagramas de caja de la variable PhD en función de la variable Top. ¿Que se observa? 4.4.1 Creación de la variable Top Empezamos creando la nueva variable top College$Top = ifelse(College$Top10perc &gt; 50, yes = &quot;Si&quot;,no = &quot;No&quot;) College$Top = as.factor(College$Top) summary(College$Top) ## No Si ## 699 78 Tenemos 78 Universidades Top y 699 fuera del Top 4.4.2 Diagrama de caja con Phd boxplot_Phd_Top = ggplot(College,aes(x=Top,y=PhD,fill=Top)) + theme_light(base_size=15) + geom_boxplot() + scale_fill_manual(values=c(color1, color2)) boxplot_Phd_Top Vemos que los mejores Estudiantes prefieren las universidades cuyos profesores tienen más prestigio (Son doctores) "],["ejercicio-5.html", "Chapter 5 Ejercicio 5 5.1 Enunciado y variables 5.2 Apartado a 5.3 Apartado b 5.4 Apartado c", " Chapter 5 Ejercicio 5 5.1 Enunciado y variables Para este ejercicio se utiliza el conjunto de datos de los crímenes violentos en los Estados Unidos que se puede encontrar en la librería datasets de R. El fichero contiene cuatro serie de variables para los \\(50\\) estados de Estados Unidos. Las variables son: Murder: Número de arrestos por asesinato por \\(100000\\) habitantes. Assault: Número de arrestos por agresiones por \\(100000\\) habitantes. UrbanPop: Porcentaje de población urbana. Rape: Número de arrestos por violación por \\(100000\\) habitantes. Nuestro objetivo es determinar estados con características similares en término de crímenes violentos. Se pide: 5.2 Apartado a Importar el conjunto de datos USArrests. Comprobar que la dimensión del data.frame correspondiente al conjunto de datos es \\(50\\times 4\\), es decir, que disponemos de \\(50\\) estados y \\(4\\) variables. Además, ver el conjunto de datos. library(datasets) #Cargamos la libreria data(&quot;USArrests&quot;) #Importamos los datos en la memoria dim(USArrests) #Vemos que la dimensión coincida ## [1] 50 4 knitr::kable(USArrests) #Mostramos el conjunto de datos entero Murder Assault UrbanPop Rape Alabama 13.2 236 58 21.2 Alaska 10.0 263 48 44.5 Arizona 8.1 294 80 31.0 Arkansas 8.8 190 50 19.5 California 9.0 276 91 40.6 Colorado 7.9 204 78 38.7 Connecticut 3.3 110 77 11.1 Delaware 5.9 238 72 15.8 Florida 15.4 335 80 31.9 Georgia 17.4 211 60 25.8 Hawaii 5.3 46 83 20.2 Idaho 2.6 120 54 14.2 Illinois 10.4 249 83 24.0 Indiana 7.2 113 65 21.0 Iowa 2.2 56 57 11.3 Kansas 6.0 115 66 18.0 Kentucky 9.7 109 52 16.3 Louisiana 15.4 249 66 22.2 Maine 2.1 83 51 7.8 Maryland 11.3 300 67 27.8 Massachusetts 4.4 149 85 16.3 Michigan 12.1 255 74 35.1 Minnesota 2.7 72 66 14.9 Mississippi 16.1 259 44 17.1 Missouri 9.0 178 70 28.2 Montana 6.0 109 53 16.4 Nebraska 4.3 102 62 16.5 Nevada 12.2 252 81 46.0 New Hampshire 2.1 57 56 9.5 New Jersey 7.4 159 89 18.8 New Mexico 11.4 285 70 32.1 New York 11.1 254 86 26.1 North Carolina 13.0 337 45 16.1 North Dakota 0.8 45 44 7.3 Ohio 7.3 120 75 21.4 Oklahoma 6.6 151 68 20.0 Oregon 4.9 159 67 29.3 Pennsylvania 6.3 106 72 14.9 Rhode Island 3.4 174 87 8.3 South Carolina 14.4 279 48 22.5 South Dakota 3.8 86 45 12.8 Tennessee 13.2 188 59 26.9 Texas 12.7 201 80 25.5 Utah 3.2 120 80 22.9 Vermont 2.2 48 32 11.2 Virginia 8.5 156 63 20.7 Washington 4.0 145 73 26.2 West Virginia 5.7 81 39 9.3 Wisconsin 2.6 53 66 10.8 Wyoming 6.8 161 60 15.6 Vemos que parecen estar de la forma correcta. 5.3 Apartado b Obtener una matriz de diagramas de dispersión de las cuatro variables con la función ggpairs de la librería GGally. ¿Se ven grupos de estados con características similares? library(GGally) #Cargamos la libreria necesaria para usar la función ggpairs ## Warning: package &#39;GGally&#39; was built under R version 4.3.1 ## Registered S3 method overwritten by &#39;GGally&#39;: ## method from ## +.gg ggplot2 ggpairs(data = USArrests) #Nos devuelve una matriz de diagramas de dispersión de nuestros datos. ## ## plot: [1,1] [=&gt;---------------------------] 6% est: 0s ## plot: [1,2] [===&gt;-------------------------] 12% est: 1s ## plot: [1,3] [====&gt;------------------------] 19% est: 1s ## plot: [1,4] [======&gt;----------------------] 25% est: 1s ## plot: [2,1] [========&gt;--------------------] 31% est: 1s ## plot: [2,2] [==========&gt;------------------] 38% est: 1s ## plot: [2,3] [============&gt;----------------] 44% est: 1s ## plot: [2,4] [=============&gt;---------------] 50% est: 1s ## plot: [3,1] [===============&gt;-------------] 56% est: 0s ## plot: [3,2] [=================&gt;-----------] 62% est: 0s ## plot: [3,3] [===================&gt;---------] 69% est: 0s ## plot: [3,4] [=====================&gt;-------] 75% est: 0s ## plot: [4,1] [=======================&gt;-----] 81% est: 0s ## plot: [4,2] [========================&gt;----] 88% est: 0s ## plot: [4,3] [==========================&gt;--] 94% est: 0s ## plot: [4,4] [=============================]100% est: 0s Vemos que las relaciones entre Rape, Assault y Murder, parecen tener una tendencia lineal y positiva, siendo las más fuertes Murder con Assault y Rape con Assault, esto lo inferimos al fijarnos en los coeficientes de correlación de Pearson. 5.4 Apartado c Obtener los componentes principales del conjunto de datos utilizando la matriz de correlación mediante la función prcomp. Para ello, añadir la opción scale=T. Obtener una matriz de diagramas de dispersión de las componentes principales. Notar que para ello, hay que definir la matriz de puntuaciones en un data.frame. ¿Se ven grupos de estados con características similares en los componentes principales? (componentes = prcomp(x = USArrests, scale = TRUE)) #Calculamos las componentes ## Standard deviations (1, .., p=4): ## [1] 1.5748783 0.9948694 0.5971291 0.4164494 ## ## Rotation (n x k) = (4 x 4): ## PC1 PC2 PC3 PC4 ## Murder -0.5358995 -0.4181809 0.3412327 0.64922780 ## Assault -0.5831836 -0.1879856 0.2681484 -0.74340748 ## UrbanPop -0.2781909 0.8728062 0.3780158 0.13387773 ## Rape -0.5434321 0.1673186 -0.8177779 0.08902432 Coordenadas = componentes$x #Guardamos las puntuaciones en un objeto componentes$sdev[1]/sum(componentes$sdev) ## [1] 0.4395018 (componentes$sdev[1] + componentes$sdev[2])/sum(componentes$sdev) ## [1] 0.7171403 Vemos que con las dos primeras componentes ya explicamos el 71.7% de la variabilidad de nuestros datos. Coordenadas = data.frame(Coordenadas) #Las convertimos en data.frame ggpairs(data = Coordenadas) #Las visualizamos ## plot: [1,1] [=&gt;---------------------------] 6% est: 0s ## plot: [1,2] [===&gt;-------------------------] 12% est: 0s ## plot: [1,3] [====&gt;------------------------] 19% est: 1s ## plot: [1,4] [======&gt;----------------------] 25% est: 1s ## plot: [2,1] [========&gt;--------------------] 31% est: 1s ## plot: [2,2] [==========&gt;------------------] 38% est: 1s ## plot: [2,3] [============&gt;----------------] 44% est: 1s ## plot: [2,4] [=============&gt;---------------] 50% est: 0s ## plot: [3,1] [===============&gt;-------------] 56% est: 0s ## plot: [3,2] [=================&gt;-----------] 62% est: 0s ## plot: [3,3] [===================&gt;---------] 69% est: 0s ## plot: [3,4] [=====================&gt;-------] 75% est: 0s ## plot: [4,1] [=======================&gt;-----] 81% est: 0s ## plot: [4,2] [========================&gt;----] 88% est: 0s ## plot: [4,3] [==========================&gt;--] 94% est: 0s ## plot: [4,4] [=============================]100% est: 0s Nos vamos a centrar en el gráfico que tiene a las dos primeras componentes, ya que es dónde se resume la mayor parte de la información de nuestros datos, antes de esto vamos a ver las puntuaciones de nuestras componentes para hacernos una idea de lo que nos indican cada una de ellas. componentes$rotation ## PC1 PC2 PC3 PC4 ## Murder -0.5358995 -0.4181809 0.3412327 0.64922780 ## Assault -0.5831836 -0.1879856 0.2681484 -0.74340748 ## UrbanPop -0.2781909 0.8728062 0.3780158 0.13387773 ## Rape -0.5434321 0.1673186 -0.8177779 0.08902432 En la primera componente, todas las variables toman signo negativo, por lo que a la izquierda de la primera componente tendremos ciudades menos seguras, en el sentido de que van a tener más arrestos por las tres causas que resumen nuestros datos y además un número mayor de población urbana. Respecto a la segunda componente, vemos que el factor que más peso tiene es la población urbana, por lo que a la derecha de esta componente esperamos tener ciudades con mucha población urbana y que además son seguras ya que tendrán pocos arrestos por asesinato. Vemos el gráfico de las dos primeras componentes ggplot(data = Coordenadas,aes(x = Coordenadas$PC1, y = Coordenadas$PC2)) + geom_point() + theme_classic() + geom_vline(xintercept = -0.25, color = &quot;Red&quot;) La división en grupos más clara es la marcada por la línea roja, que divide la primera componente, en la cual vamos a tener a su izquirda como hemos comentado antes, ciudades poco seguras, dónde los detenidos por los crímenes tratados son más altos, mientras que a la derecha de la línea todo lo contrario. Destacar que esta división se puede observar en cualquier gráfico que realicemos con la primera componente, en el resto no se observan grupos claros, podría ser interesante realizar alguna rotación para ver los resultados de una forma algo más clara. "],["hello-bookdown.html", "Chapter 6 Hello bookdown 6.1 A section", " Chapter 6 Hello bookdown All chapters start with a first-level heading followed by your chapter title, like the line above. There should be only one first-level heading (#) per .Rmd file. 6.1 A section All chapter sections start with a second-level (##) or higher heading followed by your section title, like the sections above and below here. You can have as many as you want within a chapter. An unnumbered section Chapters and sections are numbered by default. To un-number a heading, add a {.unnumbered} or the shorter {-} at the end of the heading, like in this section. "],["cross.html", "Chapter 7 Cross-references 7.1 Chapters and sub-chapters 7.2 Captioned figures and tables", " Chapter 7 Cross-references Cross-references make it easier for your readers to find and link to elements in your book. 7.1 Chapters and sub-chapters There are two steps to cross-reference any heading: Label the heading: # Hello world {#nice-label}. Leave the label off if you like the automated heading generated based on your heading title: for example, # Hello world = # Hello world {#hello-world}. To label an un-numbered heading, use: # Hello world {-#nice-label} or {# Hello world .unnumbered}. Next, reference the labeled heading anywhere in the text using \\@ref(nice-label); for example, please see Chapter 7. If you prefer text as the link instead of a numbered reference use: any text you want can go here. 7.2 Captioned figures and tables Figures and tables with captions can also be cross-referenced from elsewhere in your book using \\@ref(fig:chunk-label) and \\@ref(tab:chunk-label), respectively. See Figure 7.1. par(mar = c(4, 4, .1, .1)) plot(pressure, type = &#39;b&#39;, pch = 19) Figure 7.1: Here is a nice figure! Don’t miss Table 7.1. knitr::kable( head(pressure, 10), caption = &#39;Here is a nice table!&#39;, booktabs = TRUE ) Table 7.1: Here is a nice table! temperature pressure 0 0.0002 20 0.0012 40 0.0060 60 0.0300 80 0.0900 100 0.2700 120 0.7500 140 1.8500 160 4.2000 180 8.8000 "],["parts.html", "Chapter 8 Parts", " Chapter 8 Parts You can add parts to organize one or more book chapters together. Parts can be inserted at the top of an .Rmd file, before the first-level chapter heading in that same file. Add a numbered part: # (PART) Act one {-} (followed by # A chapter) Add an unnumbered part: # (PART\\*) Act one {-} (followed by # A chapter) Add an appendix as a special kind of un-numbered part: # (APPENDIX) Other stuff {-} (followed by # A chapter). Chapters in an appendix are prepended with letters instead of numbers. "],["footnotes-and-citations.html", "Chapter 9 Footnotes and citations 9.1 Footnotes 9.2 Citations", " Chapter 9 Footnotes and citations 9.1 Footnotes Footnotes are put inside the square brackets after a caret ^[]. Like this one 1. 9.2 Citations Reference items in your bibliography file(s) using @key. For example, we are using the bookdown package [@R-bookdown] (check out the last code chunk in index.Rmd to see how this citation key was added) in this sample book, which was built on top of R Markdown and knitr [@xie2015] (this citation was added manually in an external file book.bib). Note that the .bib files need to be listed in the index.Rmd with the YAML bibliography key. The RStudio Visual Markdown Editor can also make it easier to insert citations: https://rstudio.github.io/visual-markdown-editing/#/citations This is a footnote.↩︎ "],["blocks.html", "Chapter 10 Blocks 10.1 Equations 10.2 Theorems and proofs 10.3 Callout blocks", " Chapter 10 Blocks 10.1 Equations Here is an equation. \\[\\begin{equation} f\\left(k\\right) = \\binom{n}{k} p^k\\left(1-p\\right)^{n-k} \\tag{10.1} \\end{equation}\\] You may refer to using \\@ref(eq:binom), like see Equation (10.1). 10.2 Theorems and proofs Labeled theorems can be referenced in text using \\@ref(thm:tri), for example, check out this smart theorem 10.1. Theorem 10.1 For a right triangle, if \\(c\\) denotes the length of the hypotenuse and \\(a\\) and \\(b\\) denote the lengths of the other two sides, we have \\[a^2 + b^2 = c^2\\] Read more here https://bookdown.org/yihui/bookdown/markdown-extensions-by-bookdown.html. 10.3 Callout blocks The R Markdown Cookbook provides more help on how to use custom blocks to design your own callouts: https://bookdown.org/yihui/rmarkdown-cookbook/custom-blocks.html "],["sharing-your-book.html", "Chapter 11 Sharing your book 11.1 Publishing 11.2 404 pages 11.3 Metadata for sharing", " Chapter 11 Sharing your book 11.1 Publishing HTML books can be published online, see: https://bookdown.org/yihui/bookdown/publishing.html 11.2 404 pages By default, users will be directed to a 404 page if they try to access a webpage that cannot be found. If you’d like to customize your 404 page instead of using the default, you may add either a _404.Rmd or _404.md file to your project root and use code and/or Markdown syntax. 11.3 Metadata for sharing Bookdown HTML books will provide HTML metadata for social sharing on platforms like Twitter, Facebook, and LinkedIn, using information you provide in the index.Rmd YAML. To setup, set the url for your book and the path to your cover-image file. Your book’s title and description are also used. This gitbook uses the same social sharing data across all chapters in your book- all links shared will look the same. Specify your book’s source repository on GitHub using the edit key under the configuration options in the _output.yml file, which allows users to suggest an edit by linking to a chapter’s source file. Read more about the features of this output format here: https://pkgs.rstudio.com/bookdown/reference/gitbook.html Or use: ?bookdown::gitbook "],["references.html", "References", " References "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
